package quicksort;

public class quick {
	public boolean less(Comparable w,Comparable v) {
		return w.compareTo(v)<0;
	}
	
	public void exch(Comparable[] a,int i,int j) {
		Comparable t=a[i];
		a[i]=a[j];
		a[j]=t;
	}
	
	public void sort(Comparable[] a) {
		int low=0;
		int height=a.length-1;
		
		sort(a,low,height);
	}
	
	public void sort(Comparable[] a,int low,int height) {
		if(low>=height)
			return ;
		
		int par=par(a,low,height);
		sort(a,low,par-1);
		sort(a,par+1,height);
	}
	
	//有越界问题
	public int par(Comparable[] a,int low,int height) {
		int left=low+1;
		int right=height;
		Comparable key= a[low];
		
		while(right>left) {
			while(less(a[left],key)) {
				left++;
			}
				
			while(less(key,a[right])) {
				right--;
			}
			
			if(left<=right)
				exch(a,left,right);
		}		
		exch(a,low,left);
		return left;		
	}
}
