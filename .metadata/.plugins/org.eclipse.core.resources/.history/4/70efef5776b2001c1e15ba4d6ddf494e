package Heap;

public class Heap<T extends Comparable<T>> {
	Comparable<T> data[] = null;
	int N = 0;

	public Heap(int x) {
		data = new Comparable[x];
	}

	public int size() {
		return N;
	}

	public void exchange(int i, int j) {
		Comparable<T> temp;
		temp = data[i];
		data[i] = data[j];
		data[j] = temp;
	}

	public boolean less(Comparable<T> w, Comparable<T> v) {
		return w.compareTo((T) v) < 0;
	}

	public void add(Comparable<T> d) {
		data[++N] = d;
		if (N > 1)
			swim();
	}

	public void swim() {
		int k = N;
		while (k > 1) {
			if (less(data[k / 2], data[k])) {
				exchange(k / 2, k);
			}
			else
				break;
			k=k/2;
		}
	}
	
	public T delete(Comparable<T> d) {
		for(int i=1;i<=N;i++) {
			if(data[i]==d) {
				data[i]=data[N];
				data[N]=null;
				N--;
				sink(i);
				break;
			}
		}
		return null;
	}

	public void sink(int i) {
		while(i<=N) {
			if(less(data[2*i],data[i])&&less(data[2*i+1],data[i])) {
				break;
			}
			else {
				if(less(data[i],data[2*i])) {
					exchange(i, 2*i);
					i=2*i;
					continue;
				}
				if(less(data[i],data[2*i+1])){
					exchange(i, 2*i+1);
					i=2*i+1;
					continue;
				}
			}
		}
	}
	
	public void print() {
		for(int i=1;i<=N;i++) {
			System.out.print(data[i]+" ");
		}
	}
}
